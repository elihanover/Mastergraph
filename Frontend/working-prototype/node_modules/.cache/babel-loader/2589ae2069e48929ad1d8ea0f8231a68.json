{"ast":null,"code":"import _classCallCheck from \"/Users/tylerangert/Desktop/MASTERGRAPH/prototyping/proto2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tylerangert/Desktop/MASTERGRAPH/prototyping/proto2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tylerangert/Desktop/MASTERGRAPH/prototyping/proto2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tylerangert/Desktop/MASTERGRAPH/prototyping/proto2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tylerangert/Desktop/MASTERGRAPH/prototyping/proto2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/tylerangert/Desktop/MASTERGRAPH/prototyping/proto2/src/components/lib/Spline.js\";\nimport React, { Component } from 'react';\nimport onClickOutside from 'react-onclickoutside';\nimport TrashIcon from './TrashIcon';\n\nvar Spline =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Spline, _Component);\n\n  function Spline(props) {\n    var _this;\n\n    _classCallCheck(this, Spline);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Spline).call(this, props));\n    _this.state = {\n      selected: false,\n      position: {\n        x: 0,\n        y: 0\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Spline, [{\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      this.setState({\n        selected: !this.state.selected,\n        position: this.props.mousePos\n      });\n\n      if (this.props.onClick) {\n        this.props.onClick(e);\n      }\n    }\n  }, {\n    key: \"handleClickOutside\",\n    value: function handleClickOutside(e) {\n      this.setState({\n        selected: false\n      });\n\n      if (this.props.onClickOutside) {\n        this.props.onClickOutside(e);\n      }\n    }\n  }, {\n    key: \"handleRemove\",\n    value: function handleRemove(e) {\n      this.setState({\n        selected: false\n      });\n\n      if (this.props.onRemove) {\n        this.props.onRemove(e);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          selected = _this$state.selected,\n          position = _this$state.position;\n      var _this$props = this.props,\n          start = _this$props.start,\n          end = _this$props.end;\n      var dist = this.distance([start.x, start.y], [end.x, end.y]);\n      var pathString = this.bezierCurve(start.x, // start x\n      start.y, // start y\n      start.x + dist * 0.25, // cp1 x\n      start.y, // cp1 y\n      end.x - dist * 0.75, // cp2 x\n      end.y, // cp2 y\n      end.x, // end x\n      end.y); // end y\n\n      var className = 'connector' + (selected ? ' selected' : '');\n      return React.createElement(\"g\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"circle\", {\n        cx: start.x,\n        cy: start.y,\n        r: \"3\",\n        fill: \"#337ab7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(\"circle\", {\n        cx: end.x,\n        cy: end.y,\n        r: \"3\",\n        fill: \"#9191A8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        className: \"connector-click-area\",\n        d: pathString,\n        onClick: function onClick(e) {\n          _this2.handleClick(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        className: className,\n        d: pathString,\n        onClick: function onClick(e) {\n          _this2.handleClick(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), selected ? React.createElement(TrashIcon, {\n        position: position,\n        onClick: function onClick(e) {\n          _this2.handleRemove(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }) : null);\n    }\n  }, {\n    key: \"bezierCurve\",\n    value: function bezierCurve(a, b, cp1x, cp1y, cp2x, cp2y, x, y) {\n      return \"M\".concat(a, \",\").concat(b, \" C\").concat(cp1x, \",\").concat(cp1y, \" \").concat(cp2x, \",\").concat(cp2y, \"  \").concat(x, \",\").concat(y);\n    }\n  }, {\n    key: \"distance\",\n    value: function distance(a, b) {\n      return Math.sqrt((b[0] - a[0]) * (b[0] - a[0]) + (b[1] - a[1]) * (b[1] - a[1]));\n    }\n  }]);\n\n  return Spline;\n}(Component);\n\nexport default onClickOutside(Spline);","map":{"version":3,"sources":["/Users/tylerangert/Desktop/MASTERGRAPH/prototyping/proto2/src/components/lib/Spline.js"],"names":["React","Component","onClickOutside","TrashIcon","Spline","props","state","selected","position","x","y","e","setState","mousePos","onClick","onRemove","start","end","dist","distance","pathString","bezierCurve","className","handleClick","handleRemove","a","b","cp1x","cp1y","cp2x","cp2y","Math","sqrt"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport onClickOutside from 'react-onclickoutside';\nimport TrashIcon from './TrashIcon';\n\n\nclass Spline extends Component {\n    constructor(props) {\n      super(props)\n      this.state = {\n        selected: false,\n        position: { x: 0, y: 0 }\n      }\n    }\n\n    handleClick(e) {\n      this.setState({\n        selected: !this.state.selected,\n        position: this.props.mousePos\n      });\n\n      if (this.props.onClick) {\n        this.props.onClick(e);\n      }\n    }\n\n    handleClickOutside(e) {\n      this.setState({selected: false});\n\n      if (this.props.onClickOutside) {\n        this.props.onClickOutside(e);\n      }\n    }\n\n    handleRemove(e) {\n      this.setState({selected: false});\n\n      if (this.props.onRemove) {\n        this.props.onRemove(e);\n      }\n    }\n\n    render() {\n        let {selected, position} = this.state;\n\n        let {start, end} = this.props;\n\n        let dist = this.distance([start.x,start.y],[end.x, end.y]);\n\n        let pathString = this.bezierCurve(start.x,                  // start x\n                                          start.y,                  // start y\n                                          start.x + dist * 0.25,    // cp1 x\n                                          start.y,                  // cp1 y\n                                          end.x - dist * 0.75 ,     // cp2 x\n                                          end.y,                    // cp2 y\n                                          end.x ,                   // end x\n                                          end.y);                   // end y\n\n        let className = 'connector' + (selected ? ' selected' : '');\n\n        return (\n                <g>\n                <circle cx={start.x} cy={start.y} r=\"3\"  fill=\"#337ab7\" />\n                <circle cx={end.x} cy={end.y} r=\"3\"  fill=\"#9191A8\" />\n                <path className=\"connector-click-area\" d={pathString} onClick={(e) => {this.handleClick(e)}} />\n                <path className={className} d={pathString} onClick={(e) => {this.handleClick(e)}} />\n                { selected ?\n                    <TrashIcon position={position}\n                               onClick={(e) => {this.handleRemove(e)}}\n                    />\n                : null }\n                </g>\n\n\n        );\n    }\n\n    bezierCurve(a,b,cp1x,cp1y,cp2x,cp2y,x,y) {\n        return `M${a},${b} C${cp1x},${cp1y} ${cp2x},${cp2y}  ${x},${y}`;\n    }\n\n    distance(a,b) {\n        return Math.sqrt( (b[0] - a[0]) * (b[0] - a[0]) + (b[1] - a[1]) * (b[1] - a[1]) );\n    }\n}\n\nexport default onClickOutside(Spline)\n"]},"metadata":{},"sourceType":"module"}